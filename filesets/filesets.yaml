demo:
  active:     "True"
  fileset_version: "1.15"
  startdate:  "Current_Date - 7"
  enddate:    "Current_Date - 1"
  some_value: "Donkey"
  birthday:   "1974-12-17"
  files:
    file01:
      gitfile:  "demo/dates.csv"
    file02:
      gitfile:   "demo/dbcinfo.coa.sql"
      startdate: "Date-7"
      enddate:   "Date-1"
      some_value: "Elephant"
    file03:
      gitfile:  "demo/today.sql"
    file04:
      gitfile:  "demo/alldates.py"
    file05:
      gitfile:  "demo/AgeReport.pptx"
    upload_template:
      gitfile:  "demo/upload-manifest.template.json"

problems:
  active:     "True"
  show_in_gui: "False"
  fileset_version: "0"
  startdate:  "Current_Date - 5"
  enddate:    "Current_Date - 2"
  birthday:   "1974-12-17"
  files:
    file01:
      gitfile:  "demo/dates.csv"
    file02:
      gitfile:   "demo/dbcinfo.coa.sql"
      startdate: "Date-7"
      enddate:   "Date-1"
    file03:
      gitfile:  "demo/today.sql"
    file05:
      gitfile:  "demo/AgeReport.pptx"
    upload_template:
      gitfile:  "demo/upload-manifest.template.json"



dim_user:
  active:           "True"
  fileset_version:  "1.0"
  fileset_type:  "atomic"
  description:   "builds the dim_user volatile table, with user/dept mappings using either .csv or pre-built table.  Most often run as prerequisite to other filesets."
  files:  &dim_user
    dim_user:
      gitfile:      "dims/dim_user.csv"
    dim_user_override:
      gitfile:      "dims/dim_user_override.sql"
    dim_user_sql_pdcr:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00","15.10","15.00","14.10","14.00","13.10"]
      gitfile:      "dims/_dim_user.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "pdcrinfo.DBQLogTbl_Hst"
    dim_user_sql_dbc:
      collection:   ["dbc"]
      dbsversion:   ["16.20", "16.10", "16.00","15.10","15.00","14.10","14.00","13.10"]
      gitfile:      "dims/_dim_user.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "dbc.DBQLogTbl"


dim_app:
  active:           "True"
  fileset_version:  "1.0"
  fileset_type:  "atomic"
  description:   "builds the dim_app volatile table, with AppID/App_Bucket mappings using either .csv or pre-built table.  Most often run as prerequisite to other filesets."
  files:  &dim_app
    dim_app:
      gitfile:      "dims/dim_app.csv"
    dim_app_sql_pdcr:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00","15.10","15.00","14.10","14.00","13.10"]
      gitfile:      "dims/_dim_app.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "pdcrinfo.DBQLogTbl_Hst"
    dim_app_sql_dbc:
      collection:   ["dbc"]
      dbsversion:   ["16.20", "16.10", "16.00","15.10","15.00","14.10","14.00","13.10"]
      gitfile:      "dims/_dim_app.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "dbc.DBQLogTbl"


dim_statement:
  active:           "True"
  fileset_version:  "1.0"
  fileset_type:  "atomic"
  description:   "builds the dim_statement volatile table, with StatementType/Statement_Bucket mappings using either .csv or pre-built table.  Most often run as prerequisite to other filesets."
  files: &dim_statement
    dim_statement:
      gitfile:  "dims/dim_statement.csv"
    dim_statement_sql_pdcr:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00","15.10","15.00","14.10","14.00","13.10"]
      gitfile:      "dims/_dim_statement.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "pdcrinfo.DBQLogTbl_Hst"
    dim_statement_sql_dbc:
      collection:   ["dbc"]
      dbsversion:   ["16.20", "16.10", "16.00","15.10","15.00","14.10","14.00","13.10"]
      gitfile:      "dims/_dim_statement.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "dbc.DBQLogTbl"


autotune_check:
  active:           "True"
  fileset_version:  "1.0"
  files: &autotune_check
    autotune:
      collection:   ["pdcr","dbc"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "autotune/autotune_check.coa.sql"


compete_snowflake:
  active:           "True"
  fileset_version:  "1.0"
  files: &compete_snowflake
    dim_dbobject:
      gitfile:      "dims/dim_dbobject.csv"
    dim_datatype:
      gitfile:      "dims/dim_datatype.csv"
    dim_tablekind:
      gitfile:      "dims/dim_tablekind.csv"
    dim_tablekind:
      gitfile:      "dims/_dim_column_type.coa.sql"
    compete01_pdcr:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      iopernode_90pct: 0
      gitfile:      "compete_snowflake/compete_snowflake.pdcr.coa.sql"
    compete01_dbc:
      collection:   ["dbc"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      iopernode_90pct: 0
      gitfile:      "compete_snowflake/compete_snowflake.dbc.coa.sql"
    pptx_migration_blockers:
      gitfile:      "compete_snowflake/snowflake_migration_blockers.pptx"


dbql_core:
  active:           "True"
  fileset_version:  "6.0"
  files:
    <<: *dim_user
    <<: *dim_statement
    <<: *dim_app
    dbql_core_pdcr16:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "dbql_core/dbql_core.1620pdcr.v08.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "pdcrinfo.DBQLogTbl_Hst"
      resusagespma: "pdcrinfo.ResUsageSPMA_Hst"
    dbql_core_dbc16:
      collection:   ["dbc"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "dbql_core/dbql_core.1620pdcr.v08.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "dbc.DBQLogTbl"
      resusagespma: "dbc.ResUsageSPMA"
    upload_manifest_template:
      gitfile:      "dbql_core/upload-manifest.template.json"


top_users:
  active:           "True"
  fileset_version:  "1.0"
  files: &top_users
    <<: *dim_user
    topuser_sql01:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "top_users/top_users.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "pdcrinfo.DBQLogTbl_Hst"
    topuser_vis:
      gitfile:      "top_users/top_users.py"
    upload_template:
      gitfile:      "top_users/upload-manifest.template.json"


customer_data_space:
  active:           "True"
  fileset_version:  "1.0"
  files: &customer_data_space
    cds_by_database_dbc_sql:
      spoolpct:     "0.20"
      collection:   ["dbc"]
      dbsversion:   ["16.20", "16.10", "16.00", "15.10", "15.00"]
      gitfile:      "db_objects/objects_by_database.dbc.v02.coa.sql"
    cds_by_database_pdcr_sql:
      spoolpct:     "0.20"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00", "15.10", "15.00"]
      day_of_week:  "1"  # for weekly CDS, use first day of week
      gitfile:      "db_objects/objects_by_database.pdcr.v02.coa.sql"
    upload_template:
      gitfile:      "db_objects/upload-manifest.template.json"



db_objects:
  active:           "True"
  fileset_version:  "1.0"
  files: &db_objects
    <<: *customer_data_space
    columns_v01_coa_sql:
      collection:   ["pdcr","dbc"]
      dbsversion:   ["16.20", "16.10", "16.00","15.10"]
      gitfile:      "db_objects/columns.v01.coa.sql"


concurrency:
  active:           "True"
  fileset_version:  "1.0"
  files: &concurrency
    concurrency_sql01:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "concurrency/concurrency.1620pdcr.v03.coa.sql"
      startdate:    "Current_Date - 43"  # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "pdcrinfo.DBQLogTbl_Hst"
    concurrency_vis:
      gitfile:      "concurrency/concurrency.py"
    upload_template:
      gitfile:      "concurrency/upload-manifest.template.json"


feature_usage:
  active:           "True"
  fileset_version:  "1.2"
  files:
    <<: *dim_user
    feature_usage_1620pdcr:
      collection:   ["pdcr"]
      dbsversion:   ["16.20"]
      gitfile:      "feature_usage/feature_usage.1620pdcr.v03.coa.sql"
      startdate:    "Current_Date - 43"  # 6 weeks
      enddate:      "Current_Date - 1"
      dbqlogtbl:    "pdcrinfo.DBQLogTbl_Hst"


level1_how_much:
  active:           "True"
  fileset_version:  "1.0"
  startdate:        "Current_Date - 365"
  enddate:          "Current_Date - 1"
  databasespace:    "pdcrinfo.DatabaseSpace_hst"
  dbqlogtbl:        "pdcrinfo.DBQLogTbl_Hst"
  resusagesldv:     "pdcrinfo.ResUsageSldv_Hst"
  resusagespma:     "pdcrinfo.ResUsageSpma_Hst"
  files: &level1_how_much
    cpu_trend_pdcr16:
      collection: ["pdcr"]
      dbsversion: ["16.20", "16.10", "16.00"]
      gitfile:    "level1_how_much/cpu_trend_spma.1620.pdcr.v11.coa.sql"
      resusagespma: "pdcrinfo.ResUsageSpma_Hst"
    io_trend_pdcr16:
      collection: ["pdcr"]
      dbsversion: ["16.20", "16.10", "16.00"]
      gitfile:    "level1_how_much/io_trend_sldv.1620.pdcr.v12.coa.sql"
      resusagesldv: "pdcrinfo.ResUsageSldv_Hst"
    storage_trend_pdcr16:
      collection: ["pdcr"]
      dbsversion: ["16.20", "16.10", "16.00"]
      gitfile:    "level1_how_much/storage_trend.1620.pdcr.v11.coa.sql"
      databasespace: "pdcrinfo.DatabaseSpace_hst"

    cpu_trend_dbc16:
      collection: ["dbc"]
      dbsversion: ["16.20", "16.10", "16.00"]
      gitfile:    "level1_how_much/cpu_trend_spma.1620.pdcr.v11.coa.sql"
      resusagespma: "dbc.ResUsageSpma"
    io_trend_dbc16:
      collection: ["dbc"]
      dbsversion: ["16.20", "16.10", "16.00"]
      gitfile:    "level1_how_much/io_trend_sldv.1620.pdcr.v12.coa.sql"
      resusagesldv: "dbc.ResUsageSldv"
    upload_template:
      gitfile:    "level1_how_much/upload-manifest.template.json"


success_plan:
  active:           "True"
  fileset_version:  "1.0"
  files:
    <<: *dim_user
    <<: *concurrency
    <<: *top_users
    <<: *db_objects
    <<: *level1_how_much
    logo:
      gitfile:      "success_plan/logo.png"
    success_plan_ppt:
      gitfile:      "success_plan/success_plan.pptx"
    success_plan_exe:
      gitfile:      "success_plan/z_build_success_plan.coa.sql"
    cpu_summary_sql:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00","15.10","15.00","14.10","14.00","13.10"]
      gitfile:      "success_plan/cpu_summary.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
      resusagescpu: "pdcrinfo.resUsageSCPU_hst"
    cpu_summary_py:
      gitfile:      "success_plan/cpu_summary.py"
    upload_template:
      gitfile:      "success_plan/upload-manifest.template.json"


vantage_health_check:
  active:           "True"
  fileset_version:  "1.0"
  startdate:          "Current_Date - 30"
  enddate:            "Current_Date - 1"
  startdate_history:  "Current_Date - 365"
  enddate_history:    "Current_Date"
  files:
    vhc_sql01:
      gitfile:      "vantage_health_check/VantageHealthCheck001.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql02:
      gitfile:      "vantage_health_check/VantageHealthCheck002.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql03:
      gitfile:      "vantage_health_check/VantageHealthCheck003.16xx.pdcr.v1.sql"  # disabled
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql04:
      gitfile:      "vantage_health_check/VantageHealthCheck004.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql05:
      gitfile:      "vantage_health_check/VantageHealthCheck005.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql06:
      gitfile:      "vantage_health_check/VantageHealthCheck006.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql07:
      gitfile:      "vantage_health_check/VantageHealthCheck007.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql08:
      gitfile:      "vantage_health_check/VantageHealthCheck008.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql09:
      gitfile:      "vantage_health_check/VantageHealthCheck009.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql10:
      gitfile:      "vantage_health_check/VantageHealthCheck010.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql11:
      gitfile:      "vantage_health_check/VantageHealthCheck011.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql12:
      gitfile:      "vantage_health_check/VantageHealthCheck012.16xx.pdcr.v1.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql13:
      gitfile:      "vantage_health_check/VantageHealthCheck013.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql14:
      gitfile:      "vantage_health_check/VantageHealthCheck014.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql15:
      gitfile:      "vantage_health_check/VantageHealthCheck015.16xx.pdcr.v1.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql16:
      gitfile:      "vantage_health_check/VantageHealthCheck016.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql17:
      gitfile:      "vantage_health_check/VantageHealthCheck017.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql18:
      gitfile:      "vantage_health_check/VantageHealthCheck018.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql19:
      gitfile:      "vantage_health_check/VantageHealthCheck019.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql20:
      gitfile:      "vantage_health_check/VantageHealthCheck020.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql21:
      gitfile:      "vantage_health_check/VantageHealthCheck021.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql22:
      gitfile:      "vantage_health_check/VantageHealthCheck022.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql23:
      gitfile:      "vantage_health_check/VantageHealthCheck023.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
    vhc_sql24:
      gitfile:      "vantage_health_check/VantageHealthCheck024.16xx.pdcr.v1.coa.sql"
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]


biz_usage_decoded:
  active: "True"
  show_id_gui: "True"
  files:
    <<: *dim_user
    setup_xref_tables:
      gitfile:      "biz_usage_decoded/_setup_xref_tables.coa.sql"
      notes:        "this is named to run between _dim_user and rest of BUD"
    BusGrpDataDomainCPUConsumption:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "biz_usage_decoded/busGrpDataDomainCPUConsumption.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
    DepartmentCPUConsumption:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "biz_usage_decoded/departmentCPUConsumption.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
    DeptDataDomainCPUConsumption:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "biz_usage_decoded/deptDataDomainCPUConsumption.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
    SpaceByDomainSubject:
      collection:   ["pdcr","dbc"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "biz_usage_decoded/spaceByDomainSubject.coa.sql"
    TopCPUUsers:
      collection:   ["pdcr"]
      dbsversion:   ["16.20", "16.10", "16.00"]
      gitfile:      "biz_usage_decoded/topCPUUsers.coa.sql"
      startdate:    "Current_Date - 43" # 6 weeks
      enddate:      "Current_Date - 1"
    links:
      gitfile:      "biz_usage_decoded/links.txt"



test:
  active:           "True"
  show_in_gui: "False"
  fileset_version:  "1.0"
  files:
    user_counts:
      gitfile:  "dims/_dim_date.coa.sql"


internal_qbr:
  active:           "True"
  show_in_gui: "False"
  fileset_version:  "1.0"
  files:
    qbr01:
      gitfile:    "internal_qbr/csm_qbr_ams_west_csm.coa.sql"
      startdate:  "Current_Date - 43" # 6 weeks
      enddate:    "Current_Date - 1"
    align01:
      gitfile:    "internal_qbr/dim_alignment_ams_west_csm.csv"
